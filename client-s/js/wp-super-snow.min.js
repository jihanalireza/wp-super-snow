(function(a){a.fn.wpSuperSnow=function(r){var m,d,b,f,n,q,c,l,j,o=a("head"),h=a("body"),p,e={flakes:[],totalFlakes:50,zIndex:9999999,maxSize:50,maxDuration:25,useFlakeTrans:true},g=["wpSuperSnowL","wpSuperSnowR"];r=a.extend({},e,r);if(!r.flakes.length){return this}if(a.wpSuperSnowCSS){o.append('<style type="text/css">'+a.wpSuperSnowCSS+"</style>"),a.wpSuperSnowCSS=""}var k=function(s,i){s=(typeof s==="number")?s:0;i=(typeof i==="number")?i:Number.MAX_VALUE;return Math.floor(Math.random()*(i-s+1))+s};return this.each(function(){for(p=a(this),m=1;m<=Number(r.totalFlakes);m++){d=k(0,100);b=k(1,9);q=k(1,Number(r.maxSize));f=k(Math.floor(Number(r.maxDuration)/4),Number(r.maxDuration));n=k(1,f);c=g[k(0,g.length-1)];l=r.flakes[k(0,r.flakes.length-1)];j=a('<div class="wp-super-snow-flake"><img src="'+l+'" /></div>');j.css({width:q+"px",height:q+"px",position:"fixed","z-index":Number(r.zIndex),left:d+"%",top:"0",opacity:"0","-webkit-user-select":"none","-moz-user-select":"none","user-select":"none",animation:c+" "+f+"s infinite","animation-delay":n+"s","-webkit-animation":c+" "+f+"s infinite","-webkit-animation-delay":n+"s","-moz-animation":c+" "+f+"s infinite","-moz-animation-delay":n+"s"}),a("img",j).css({width:"100%",height:"auto",border:0,opacity:(r.useFlakeTrans)?"."+b:1});p.append(j)}})};a.wpSuperSnowCSS="@keyframes wpSuperSnowL {0% {opacity:0;} 10% {opacity:1;} 100% {opacity:0; transform:translate3D(100px,1500px,0) rotate(250deg);}}";a.wpSuperSnowCSS+="@keyframes wpSuperSnowR {0% {opacity:0;} 10% {opacity:1;} 100% {opacity:0; transform:translate3D(-100px,1500px,0) rotate(-500deg);}}";a.wpSuperSnowCSS+="@-webkit-keyframes wpSuperSnowL {0% {opacity:0;} 10% {opacity:1;} 100% {opacity:0; -webkit-transform:translate3D(100px,1500px,0) rotate(250deg);}}";a.wpSuperSnowCSS+="@-webkit-keyframes wpSuperSnowR {0% {opacity:0;} 10% {opacity:1;} 100% {opacity:0; -webkit-transform:translate3D(-100px,1500px,0) rotate(-500deg);}}";a.wpSuperSnowCSS+="@-moz-keyframes wpSuperSnowL {0% {opacity:0;} 10% {opacity:1;} 100% {opacity:0; -moz-transform:translate3D(100px,1500px,0) rotate(250deg);}}";a.wpSuperSnowCSS+="@-moz-keyframes wpSuperSnowR {0% {opacity:0;} 10% {opacity:1;} 100% {opacity:0; -moz-transform:translate3D(-100px,1500px,0) rotate(-500deg);}}"})(jQuery);