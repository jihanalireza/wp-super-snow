(function(a){a.fn.wpSuperSnow=function(s){var m,d,b,f,n,r,c,l,j,p=a("head"),h=a("body"),q,o,e={flakes:[],totalFlakes:50,zIndex:9999999,maxSize:50,maxDuration:25,useFlakeTrans:true},g=["wpSuperSnowL","wpSuperSnowR"];s=a.extend({},e,s);if(!s.flakes.length){return this}if(a.wpSuperSnowCSS){p.append('<style type="text/css">'+a.wpSuperSnowCSS+"</style>"),a.wpSuperSnowCSS=""}var k=function(t,i){t=(typeof t==="number")?t:0;i=(typeof i==="number")?i:Number.MAX_VALUE;return Math.floor(Math.random()*(i-t+1))+t};return this.each(function(){q=a(this),o="fixed";if(a.inArray(q[0].nodeName.toLowerCase(),["html","body"])===-1){q.css({position:"relative",overflow:"hidden"}),o="absolute"}for(q=a(this),m=1;m<=Number(s.totalFlakes);m++){d=k(0,100);b=k(1,9);r=k(1,Number(s.maxSize));f=k(Math.floor(Number(s.maxDuration)/4),Number(s.maxDuration));n=k(1,f);c=g[k(0,g.length-1)];l=s.flakes[k(0,s.flakes.length-1)];j=a('<div class="wp-super-snow-flake"><img src="'+l+'" /></div>');j.css({width:r+"px",height:r+"px",position:o,"z-index":Number(s.zIndex),left:d+"%",top:"0",opacity:"0","-webkit-user-select":"none","-moz-user-select":"none","user-select":"none",animation:c+" "+f+"s infinite","animation-delay":n+"s","-webkit-animation":c+" "+f+"s infinite","-webkit-animation-delay":n+"s","-moz-animation":c+" "+f+"s infinite","-moz-animation-delay":n+"s"}),a("img",j).css({width:"100%",height:"auto",border:0,opacity:(s.useFlakeTrans)?"."+b:1});q.append(j)}})};a.wpSuperSnowCSS="@keyframes wpSuperSnowL {0% {opacity:0;} 25% {opacity:1;} 100% {opacity:0; transform:translate3D(100px,1500px,0) rotate(250deg);}}";a.wpSuperSnowCSS+="@keyframes wpSuperSnowR {0% {opacity:0;} 25% {opacity:1;} 100% {opacity:0; transform:translate3D(-100px,1500px,0) rotate(-500deg);}}";a.wpSuperSnowCSS+="@-webkit-keyframes wpSuperSnowL {0% {opacity:0;} 25% {opacity:1;} 100% {opacity:0; -webkit-transform:translate3D(100px,1500px,0) rotate(250deg);}}";a.wpSuperSnowCSS+="@-webkit-keyframes wpSuperSnowR {0% {opacity:0;} 25% {opacity:1;} 100% {opacity:0; -webkit-transform:translate3D(-100px,1500px,0) rotate(-500deg);}}";a.wpSuperSnowCSS+="@-moz-keyframes wpSuperSnowL {0% {opacity:0;} 25% {opacity:1;} 100% {opacity:0; -moz-transform:translate3D(100px,1500px,0) rotate(250deg);}}";a.wpSuperSnowCSS+="@-moz-keyframes wpSuperSnowR {0% {opacity:0;} 25% {opacity:1;} 100% {opacity:0; -moz-transform:translate3D(-100px,1500px,0) rotate(-500deg);}}"})(jQuery);